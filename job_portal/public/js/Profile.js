(window.webpackJsonp=window.webpackJsonp||[]).push([[4],{215:function(t,e,s){"use strict";var a=s(44),r=s(216),i=s(8),n=s(12),l=s(217),o=s(45),u=s(28),c=s(46),p=s(29),d=s(5),v=[].push,m=Math.min,f=!d((function(){return!RegExp(4294967295,"y")}));a("split",2,(function(t,e,s){var a;return a="c"=="abbc".split(/(b)*/)[1]||4!="test".split(/(?:)/,-1).length||2!="ab".split(/(?:ab)*/).length||4!=".".split(/(.?)(.?)/).length||".".split(/()()/).length>1||"".split(/.?/).length?function(t,s){var a=String(n(this)),i=void 0===s?4294967295:s>>>0;if(0===i)return[];if(void 0===t)return[a];if(!r(t))return e.call(a,t,i);for(var l,o,u,c=[],d=(t.ignoreCase?"i":"")+(t.multiline?"m":"")+(t.unicode?"u":"")+(t.sticky?"y":""),m=0,f=new RegExp(t.source,d+"g");(l=p.call(f,a))&&!((o=f.lastIndex)>m&&(c.push(a.slice(m,l.index)),l.length>1&&l.index<a.length&&v.apply(c,l.slice(1)),u=l[0].length,m=o,c.length>=i));)f.lastIndex===l.index&&f.lastIndex++;return m===a.length?!u&&f.test("")||c.push(""):c.push(a.slice(m)),c.length>i?c.slice(0,i):c}:"0".split(void 0,0).length?function(t,s){return void 0===t&&0===s?[]:e.call(this,t,s)}:e,[function(e,s){var r=n(this),i=null==e?void 0:e[t];return void 0!==i?i.call(e,r,s):a.call(String(r),e,s)},function(t,r){var n=s(a,t,this,r,a!==e);if(n.done)return n.value;var p=i(t),d=String(this),v=l(p,RegExp),g=p.unicode,h=(p.ignoreCase?"i":"")+(p.multiline?"m":"")+(p.unicode?"u":"")+(f?"y":"g"),_=new v(f?p:"^(?:"+p.source+")",h),b=void 0===r?4294967295:r>>>0;if(0===b)return[];if(0===d.length)return null===c(_,d)?[d]:[];for(var y=0,C=0,k=[];C<d.length;){_.lastIndex=f?C:0;var x,w=c(_,f?d:d.slice(C));if(null===w||(x=m(u(_.lastIndex+(f?0:C)),d.length))===y)C=o(d,C,g);else{if(k.push(d.slice(y,C)),k.length===b)return k;for(var N=1;N<=w.length-1;N++)if(k.push(w[N]),k.length===b)return k;C=y=x}}return k.push(d.slice(y)),k}]}),!f)},216:function(t,e,s){var a=s(16),r=s(15),i=s(11)("match");t.exports=function(t){var e;return a(t)&&(void 0!==(e=t[i])?!!e:"RegExp"==r(t))}},217:function(t,e,s){var a=s(8),r=s(43),i=s(11)("species");t.exports=function(t,e){var s,n=a(t).constructor;return void 0===n||null==(s=a(n)[i])?e:r(s)}},296:function(t,e,s){"use strict";s.r(e);s(42),s(33),s(215);var a=s(4),r={name:"Profile",data:function(){return{user:{type:null,firstName:null,lastName:null,businessName:null,email:null,password:null,image:null,cv:null,skills:[]},errors:null,profileImage:null,skill:null,token:null,imageDirty:!1,cvDirty:!1}},methods:{addSkill:function(t){this.user.skills.push(t.currentTarget.value),t.currentTarget.value=null},setPhoto:function(t){var e=this,s=t.target.files[0],a=new FileReader;a.onloadend=function(){e.profileImage=a.result},a.readAsDataURL(s),this.imageDirty=!0,this.user.image=s},setCV:function(t){this.cvDirty=!0,this.user.cv=t.target.files[0]},saveData:function(){var t=this,e=new FormData;if("applicant"===this.user.type){var s=this.user.image,r=this.user.cv;this.imageDirty&&e.append("image",s,s.name),this.cvDirty&&e.append("cv",r)}for(var i in e.append("token",this.token),this.user)e.append(i,this.user[i]);axios.post("/user",e,{headers:{"content-type":"multipart/form-data"}}).then((function(e){"success"===e.data.status&&(a.a.setToLocal("token",e.data.token),alert("Updated!"),t.getUser())})).catch((function(e){void 0!==e.response.data.errors?t.errors=e.response.data.errors:alert("Please try again!")}))},getUser:function(){var t=this;this.token=a.a.getFromLocal("token"),this.token?axios.get("/user?token="+this.token).then((function(e){var s;e.data.skills=e.data.skills?e.data.skills.split(","):[],Object.assign(t.user,e.data),t.profileImage=null!==(s=e.data.image)&&void 0!==s?s:"/storage/images/profile.png"})):a.a.logout()}},mounted:function(){this.getUser()}},i=s(3),n=Object(i.a)(r,(function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",[s("navbar",{attrs:{loginStatus:!0}}),t._v(" "),s("div",{staticClass:"container"},[s("div",{staticClass:"card"},[s("div",{staticClass:"card-body d-flex justify-content-center"},[s("div",{staticClass:"col-md-6"},[t._m(0),t._v(" "),"applicant"===t.user.type?s("div",{staticClass:"profile-image-wrapper"},[s("img",{staticClass:"profile-image",attrs:{src:t.profileImage,alt:"profile-image",width:"100"}})]):t._e(),t._v(" "),"applicant"===t.user.type?s("div",{staticClass:"form-group"},[s("label",{attrs:{for:"pPhoto"}},[t._v("Profile Photo")]),t._v(" "),s("input",{staticClass:"form-control-file",attrs:{type:"file",id:"pPhoto"},on:{change:function(e){return t.setPhoto(e)}}})]):t._e(),t._v(" "),s("div",{staticClass:"form-group"},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.user.firstName,expression:"user.firstName"}],staticClass:"form-control",attrs:{type:"text",placeholder:"First Name",autofocus:""},domProps:{value:t.user.firstName},on:{input:function(e){e.target.composing||t.$set(t.user,"firstName",e.target.value)}}})]),t._v(" "),s("div",{staticClass:"form-group"},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.user.lastName,expression:"user.lastName"}],staticClass:"form-control",attrs:{type:"text",placeholder:"Last Name"},domProps:{value:t.user.lastName},on:{input:function(e){e.target.composing||t.$set(t.user,"lastName",e.target.value)}}})]),t._v(" "),"company"===t.user.type?s("div",{staticClass:"form-group"},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.user.businessName,expression:"user.businessName"}],staticClass:"form-control",attrs:{type:"text",placeholder:"Business Name"},domProps:{value:t.user.businessName},on:{input:function(e){e.target.composing||t.$set(t.user,"businessName",e.target.value)}}})]):t._e(),t._v(" "),"applicant"===t.user.type?s("div",{staticClass:"form-group"},[s("label",[t._v("Skills:")]),t._v(" "),s("div",{staticStyle:{display:"inline-block"}},[t._l(t.user.skills,(function(e,a){return s("span",{key:a,staticClass:"text-muted"},[s("span",{staticClass:"badge badge-pill"},[t._v(t._s(e))])])})),t._v(" "),s("button",{staticClass:"btn btn-sm btn-light",on:{click:function(e){t.user.skills=[]}}},[t._v("Clear")])],2),t._v(" "),s("input",{staticClass:"form-control",attrs:{type:"text",placeholder:"Write skill and press Enter"},on:{keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:(e.preventDefault(),t.addSkill(e))}}})]):t._e(),t._v(" "),"applicant"===t.user.type?s("div",{staticClass:"profile-image-wrapper mb-2"},[s("label",{attrs:{for:"cv"}},[t._v("Select CV")]),t._v(" "),s("input",{staticClass:"form-control-file",attrs:{type:"file",id:"cv"},on:{change:function(e){return t.setCV(e)}}}),t._v(" "),s("br"),t._v(" "),!t.cvDirty&&t.user.cv?s("a",{attrs:{href:t.user.cv,target:"_blank"}},[t._v("Download CV")]):t._e()]):t._e(),t._v(" "),s("hr"),t._v(" "),s("button",{staticClass:"btn-block btn btn-default mb-2 float-right",attrs:{type:"button","data-toggle":"collapse","data-target":"#emailPassword","aria-expanded":"false"}},[t._v("\n                    Update Email/Password\n                ")]),t._v(" "),s("div",{staticClass:"collapse mb-4",attrs:{id:"emailPassword"}},[s("div",{staticClass:"form-group"},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.user.email,expression:"user.email"}],staticClass:"form-control",attrs:{type:"text",placeholder:"Email"},domProps:{value:t.user.email},on:{input:function(e){e.target.composing||t.$set(t.user,"email",e.target.value)}}})]),t._v(" "),s("div",{staticClass:"form-group"},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.user.password,expression:"user.password"}],staticClass:"form-control",attrs:{type:"password",placeholder:"Password"},domProps:{value:t.user.password},on:{input:function(e){e.target.composing||t.$set(t.user,"password",e.target.value)}}})])]),t._v(" "),s("button",{staticClass:"btn btn-lg btn-primary btn-block",on:{click:t.saveData}},[t._v("Update")]),t._v(" "),t.errors?s("div",{staticClass:"alert alert-danger mt-4 rounded font-bold mb-4 shadow-lg"},t._l(t.errors,(function(e,a){return s("div",{key:a},t._l(e,(function(e){return s("p",{key:e,staticClass:"text-sm"},[t._v("\n                        "+t._s(e)+"\n                        ")])})),0)})),0):t._e()])])])])],1)}),[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"text-center mb-4"},[e("h1",{staticClass:"h3 mb-3 font-weight-normal"},[this._v("Profile")])])}],!1,null,"36647144",null);e.default=n.exports},42:function(t,e,s){var a=s(10),r=s(22).f,i=Function.prototype,n=i.toString,l=/^\s*function ([^ (]*)/;a&&!("name"in i)&&r(i,"name",{configurable:!0,get:function(){try{return n.call(this).match(l)[1]}catch(t){return""}}})}}]);